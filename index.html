<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kaer Morhen Treasury ‚Äì Handcrafted Jewelry</title>
  <meta name="description" content="Exquisite handcrafted jewelry inspired by the Northern Realms. Shells, pearls, and precious materials forged into timeless pieces." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <style>
    :root {
      --parchment: #2a2418;
      --dark-brown: #1a1611;
      --gold: #d4af37;
      --old-gold: #b8941e;
      --bronze: #8b6914;
      --text-light: #e8dcc0;
      --text-dim: #c4b89a;
      --border-gold: #6b5d2e;
      --bank-wood: #3d2f1f;
      --witcher-blue: #4a6fa5;
      --witcher-silver: #c0c0c0;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Crimson Text', serif;
      color: var(--text-light);
      background: var(--dark-brown);
      background-image: 
        url('https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=1920&q=80'),
        url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80'),
        radial-gradient(circle at 20% 50%, rgba(139, 105, 20, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
        linear-gradient(180deg, rgba(26, 22, 17, 0.88) 0%, rgba(31, 26, 20, 0.92) 100%);
      background-size: cover, cover, auto, auto, auto;
      background-position: center, center, center, center, center;
      background-attachment: fixed, fixed, scroll, scroll, scroll;
      background-blend-mode: overlay, overlay, normal, normal, normal;
      line-height: 1.8;
      min-height: 100vh;
      position: relative;
      animation: backgroundShift 20s ease-in-out infinite;
      transition: background-image 1.5s ease-in-out;
    }

    @keyframes backgroundShift {
      0%, 100% {
        background-position: center, center, center, center, center;
      }
      50% {
        background-position: center 20%, center 80%, center, center, center;
      }
    }

    /* Toast Notification System */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 15px;
      pointer-events: none;
    }

    .toast {
      background: rgba(42, 36, 24, 0.95);
      border: 2px solid var(--gold);
      border-radius: 8px;
      padding: 20px 25px;
      min-width: 300px;
      max-width: 400px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8), 0 0 30px rgba(212, 175, 55, 0.4);
      backdrop-filter: blur(10px);
      transform: translateX(500px);
      opacity: 0;
      animation: toastSlideIn 0.5s ease-out forwards;
      pointer-events: auto;
      position: relative;
      overflow: hidden;
    }

    .toast::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--gold);
      box-shadow: 0 0 10px var(--gold);
    }

    .toast::after {
      content: '‚öî';
      position: absolute;
      top: 15px;
      right: 15px;
      color: var(--gold);
      font-size: 1.2rem;
      opacity: 0.5;
    }

    @keyframes toastSlideIn {
      from {
        transform: translateX(500px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes toastSlideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(500px);
        opacity: 0;
      }
    }

    .toast.toast-exit {
      animation: toastSlideOut 0.5s ease-in forwards;
    }

    .toast-title {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1.1rem;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .toast-title::before {
      content: '‚ú¶';
      color: var(--gold);
      font-size: 0.8rem;
    }

    .toast-message {
      color: var(--text-light);
      font-size: 0.95rem;
      line-height: 1.6;
      font-style: italic;
    }

    .toast-character {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(212, 175, 55, 0.2);
      color: var(--text-dim);
      font-size: 0.85rem;
      font-family: 'Cinzel', serif;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.03) 2px, rgba(0, 0, 0, 0.03) 4px);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      padding: 60px 20px 80px;
      position: relative;
      border-bottom: 2px solid var(--border-gold);
      margin-bottom: 60px;
      background: rgba(26, 22, 17, 0.6);
      border-radius: 12px;
      backdrop-filter: blur(2px);
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .witcher-symbol {
      font-size: 3rem;
      color: var(--gold);
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
      display: block;
    }

    h1 {
      font-family: 'Cinzel', serif;
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--gold);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8), 0 0 20px rgba(212, 175, 55, 0.3);
      letter-spacing: 3px;
      margin-bottom: 20px;
    }

    .subtitle {
      font-size: 1.3rem;
      color: var(--text-dim);
      font-style: italic;
      letter-spacing: 1px;
    }

    .location-badge {
      display: inline-block;
      margin-top: 20px;
      padding: 8px 20px;
      background: rgba(212, 175, 55, 0.1);
      border: 1px solid var(--border-gold);
      border-radius: 20px;
      font-size: 0.9rem;
      color: var(--gold);
      font-family: 'Cinzel', serif;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .location-badge:hover {
      background: rgba(212, 175, 55, 0.2);
      border-color: var(--old-gold);
      transform: scale(1.05);
      box-shadow: 0 3px 15px rgba(212, 175, 55, 0.3);
    }

    .decorative-line {
      width: 300px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      margin: 30px auto;
      position: relative;
    }

    .decorative-line::before,
    .decorative-line::after {
      content: '‚öî';
      position: absolute;
      top: -8px;
      color: var(--gold);
      font-size: 16px;
    }

    .decorative-line::before {
      left: 50%;
      transform: translateX(-50px);
    }

    .decorative-line::after {
      right: 50%;
      transform: translateX(50px);
    }

    .vesemir-quote {
      margin: 30px auto;
      max-width: 700px;
      padding: 25px;
      background: rgba(0, 0, 0, 0.4);
      border-left: 4px solid var(--gold);
      border-radius: 4px;
      font-style: italic;
      color: var(--text-dim);
      font-size: 1.1rem;
      position: relative;
      backdrop-filter: blur(2px);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .vesemir-quote:hover {
      background: rgba(0, 0, 0, 0.6);
      border-left-width: 6px;
      transform: translateX(5px);
      box-shadow: 0 5px 20px rgba(212, 175, 55, 0.2);
    }

    .vesemir-quote::before {
      content: '"';
      font-size: 4rem;
      color: var(--gold);
      opacity: 0.3;
      position: absolute;
      top: -10px;
      left: 15px;
      font-family: 'Cinzel', serif;
    }

    .vesemir-quote::after {
      content: '‚Äî Vesemir of Kaer Morhen';
      display: block;
      margin-top: 15px;
      text-align: right;
      font-size: 0.9rem;
      color: var(--gold);
      font-style: normal;
      font-family: 'Cinzel', serif;
    }

    .character-references {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .character-card {
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border-gold);
      border-radius: 8px;
      backdrop-filter: blur(2px);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .character-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .character-card:hover::before {
      left: 100%;
    }

    .character-card:hover {
      background: rgba(0, 0, 0, 0.5);
      border-color: var(--gold);
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
    }

    .character-card:active {
      transform: translateY(-1px) scale(1.01);
    }

    .character-card h3 {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1.2rem;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .character-card p {
      color: var(--text-dim);
      font-size: 0.95rem;
      font-style: italic;
      line-height: 1.6;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 40px;
      margin: 60px 0;
    }

    .card {
      background: var(--parchment);
      border: 2px solid var(--border-gold);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(212, 175, 55, 0.1);
      position: relative;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: rgba(42, 36, 24, 0.8);
      backdrop-filter: blur(3px);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 48px rgba(0, 0, 0, 0.8), 0 0 30px rgba(212, 175, 55, 0.2);
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .card-image {
      width: 100%;
      height: 350px;
      background: linear-gradient(135deg, #3a2f1f 0%, #2a2418 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      background-image: 
        url('https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&q=80'),
        url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80'),
        linear-gradient(135deg, rgba(58, 47, 31, 0.75) 0%, rgba(42, 36, 24, 0.85) 100%);
      background-size: cover, cover, auto;
      background-blend-mode: overlay, overlay, normal;
      background-position: center, center, center;
      transition: transform 0.5s ease, background-position 0.5s ease;
    }

    .card:hover .card-image {
      transform: scale(1.05);
      background-position: center 20%, center 80%, center;
    }

    .card-image::after {
      content: '';
      position: absolute;
      inset: 0;
      background: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.03) 2px, rgba(0, 0, 0, 0.03) 4px),
        radial-gradient(circle at center, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
    }

    .card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.9;
    }

    .card-content {
      padding: 30px;
    }

    .card h3 {
      font-family: 'Cinzel', serif;
      font-size: 1.8rem;
      color: var(--gold);
      margin-bottom: 15px;
      letter-spacing: 1px;
    }

    .card-description {
      color: var(--text-dim);
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 25px;
      font-style: italic;
    }

    .witcher-reference {
      font-size: 0.9rem;
      color: var(--gold);
      font-style: italic;
      margin-top: 15px;
      padding: 10px;
      background: rgba(212, 175, 55, 0.05);
      border-left: 2px solid var(--gold);
      border-radius: 4px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .witcher-reference:hover {
      background: rgba(212, 175, 55, 0.15);
      border-left-width: 4px;
      transform: translateX(5px);
    }

    .materials {
      font-size: 0.95rem;
      color: var(--text-dim);
      margin-bottom: 20px;
      padding-left: 20px;
    }

    .materials li {
      margin: 8px 0;
      list-style: none;
      position: relative;
    }

    .materials li::before {
      content: '‚ñ∏';
      position: absolute;
      left: -20px;
      color: var(--gold);
    }

    .price-section {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-top: 1px solid var(--border-gold);
      border-bottom: 1px solid var(--border-gold);
      margin: 20px -30px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .price-section:hover {
      background: rgba(212, 175, 55, 0.1);
      border-color: var(--gold);
    }

    .price-section:hover .price {
      text-shadow: 0 0 15px rgba(212, 175, 55, 0.8);
      transform: scale(1.05);
    }

    .price-label {
      font-size: 0.9rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .price {
      font-family: 'Cinzel', serif;
      font-size: 2rem;
      color: var(--gold);
      font-weight: 600;
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
      transition: all 0.3s ease;
    }

    .crown-icon {
      display: inline-block;
      margin-left: 8px;
      font-size: 1.5rem;
    }

    .exchange-section {
      margin: 80px 0;
      padding: 0;
      background: var(--bank-wood);
      border: 3px solid var(--border-gold);
      border-radius: 8px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8), inset 0 0 50px rgba(0, 0, 0, 0.5);
      position: relative;
      overflow: hidden;
      background-image: 
        linear-gradient(135deg, rgba(61, 47, 31, 0.95) 0%, rgba(42, 36, 24, 0.95) 100%),
        url('https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1200&q=80');
      background-size: auto, cover;
      background-blend-mode: normal, overlay;
      background-position: center, center;
    }

    .exchange-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(180deg, rgba(212, 175, 55, 0.2) 0%, transparent 100%);
      border-bottom: 2px solid var(--border-gold);
    }

    .bank-header {
      padding: 30px 40px 20px;
      background: linear-gradient(180deg, rgba(61, 47, 31, 0.8) 0%, rgba(42, 36, 24, 0.6) 100%);
      border-bottom: 2px solid var(--border-gold);
      position: relative;
    }

    .bank-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .bank-title {
      font-family: 'Cinzel', serif;
      font-size: 2.2rem;
      color: var(--gold);
      margin-bottom: 10px;
      letter-spacing: 2px;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }

    .bank-subtitle {
      text-align: center;
      color: var(--text-dim);
      font-style: italic;
      font-size: 1rem;
    }

    .bank-content {
      padding: 40px;
      background: rgba(0, 0, 0, 0.2);
    }

    .exchange-rates {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
      padding: 25px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      border: 1px solid var(--border-gold);
    }

    .rate-item {
      text-align: center;
      padding: 20px;
      border: 2px solid var(--border-gold);
      border-radius: 6px;
      background: rgba(0, 0, 0, 0.4);
      position: relative;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .rate-item:hover {
      background: rgba(0, 0, 0, 0.6);
      border-color: var(--gold);
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(212, 175, 55, 0.3);
    }

    .rate-item:hover .currency-name {
      color: var(--old-gold);
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
    }

    .rate-item::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 8px;
      right: 8px;
      bottom: 8px;
      border: 1px solid rgba(212, 175, 55, 0.2);
      border-radius: 4px;
    }

    .rate-item .currency-name {
      font-family: 'Cinzel', serif;
      font-size: 1.2rem;
      color: var(--gold);
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .rate-item .rate-value {
      color: var(--text-light);
      font-size: 1rem;
      font-style: italic;
    }

    .converter {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 30px;
    }

    .currency-input-group {
      display: flex;
      flex-direction: column;
    }

    .currency-input-group label {
      font-family: 'Cinzel', serif;
      font-size: 1.1rem;
      color: var(--gold);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .currency-input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .currency-input {
      width: 100%;
      padding: 15px 50px 15px 20px;
      background: rgba(0, 0, 0, 0.5);
      border: 2px solid var(--border-gold);
      border-radius: 6px;
      color: var(--text-light);
      font-family: 'Crimson Text', serif;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }

    .currency-input:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.4), inset 0 0 10px rgba(212, 175, 55, 0.1);
      background: rgba(0, 0, 0, 0.6);
    }

    .currency-symbol {
      position: absolute;
      right: 20px;
      color: var(--gold);
      font-family: 'Cinzel', serif;
      font-size: 1.3rem;
      pointer-events: none;
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
    }

    .exchange-info {
      text-align: center;
      margin-top: 30px;
      padding: 25px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 6px;
      border: 1px solid var(--border-gold);
      position: relative;
    }

    .exchange-info::before {
      content: '‚öú';
      position: absolute;
      top: -15px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--bank-wood);
      padding: 5px 15px;
      color: var(--gold);
      font-size: 1.5rem;
    }

    .exchange-info p {
      color: var(--text-dim);
      font-size: 1rem;
      font-style: italic;
      line-height: 1.8;
    }

    .about-section {
      margin: 80px 0;
      padding: 40px;
      background: rgba(42, 36, 24, 0.8);
      border: 2px solid var(--border-gold);
      border-radius: 8px;
      text-align: center;
      position: relative;
      backdrop-filter: blur(3px);
    }

    .about-section::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      border-radius: 8px 8px 0 0;
    }

    .about-section h2 {
      font-family: 'Cinzel', serif;
      font-size: 2rem;
      color: var(--gold);
      margin-bottom: 25px;
      letter-spacing: 2px;
    }

    .about-section p {
      color: var(--text-dim);
      font-size: 1.1rem;
      line-height: 2;
      max-width: 800px;
      margin: 0 auto;
      font-style: italic;
    }

    .ciri-reference {
      margin-top: 30px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-left: 3px solid var(--gold);
      border-radius: 4px;
      font-style: italic;
      color: var(--text-dim);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .ciri-reference:hover {
      background: rgba(0, 0, 0, 0.4);
      border-left-width: 5px;
      transform: translateX(5px);
      box-shadow: 0 5px 20px rgba(212, 175, 55, 0.2);
    }

    /* Witcher Logo Section */
    .witcher-logo-section {
      text-align: center;
      margin: 40px 0 60px;
      padding: 30px;
      background: rgba(0, 0, 0, 0.4);
      border: 2px solid var(--border-gold);
      border-radius: 12px;
      backdrop-filter: blur(3px);
    }

    .witcher-logo {
      font-family: 'Cinzel', serif;
      font-size: 4rem;
      color: var(--gold);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8), 0 0 30px rgba(212, 175, 55, 0.5);
      letter-spacing: 5px;
      margin-bottom: 10px;
      position: relative;
      display: inline-block;
    }

    .witcher-logo::before,
    .witcher-logo::after {
      content: '‚öî';
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: var(--gold);
      opacity: 0.6;
    }

    .witcher-logo::before {
      left: -60px;
    }

    .witcher-logo::after {
      right: -60px;
    }

    .logo-subtitle {
      color: var(--text-dim);
      font-style: italic;
      font-size: 1.1rem;
      margin-top: 10px;
    }

    /* Character Visuals Section */
    .characters-visual-section {
      margin: 60px 0;
      padding: 40px;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid var(--border-gold);
      border-radius: 8px;
      backdrop-filter: blur(2px);
    }

    .characters-visual-section h3 {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 2rem;
      margin-bottom: 30px;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .characters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 25px;
    }

    .character-visual {
      text-align: center;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid var(--border-gold);
      border-radius: 8px;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .character-visual::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .character-visual:hover::before {
      left: 100%;
    }

    .character-visual:hover {
      background: rgba(0, 0, 0, 0.5);
      border-color: var(--gold);
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
    }

    .character-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      display: block;
      filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.5));
      transition: transform 0.3s ease;
    }

    .character-visual:hover .character-icon {
      transform: scale(1.2) rotate(5deg);
    }

    .character-visual-name {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1.2rem;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .character-visual-desc {
      color: var(--text-dim);
      font-size: 0.9rem;
      font-style: italic;
    }

    /* Dandelion Music Player Section */
    .music-section {
      margin: 60px 0;
      padding: 40px;
      background: rgba(0, 0, 0, 0.4);
      border: 2px solid var(--border-gold);
      border-radius: 8px;
      backdrop-filter: blur(3px);
      position: relative;
      overflow: hidden;
    }

    .music-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .music-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .music-header h3 {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 2rem;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .music-header p {
      color: var(--text-dim);
      font-style: italic;
      font-size: 1.1rem;
    }

    .dandelion-intro {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: rgba(212, 175, 55, 0.05);
      border-left: 3px solid var(--gold);
      border-radius: 4px;
    }

    .dandelion-intro p {
      color: var(--text-light);
      font-style: italic;
      line-height: 1.8;
    }

    .music-player {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border-gold);
      border-radius: 8px;
      padding: 25px;
    }

    .current-track {
      text-align: center;
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 6px;
    }

    .current-track-name {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1.3rem;
      margin-bottom: 5px;
    }

    .current-track-artist {
      color: var(--text-dim);
      font-style: italic;
      font-size: 0.95rem;
    }

    .music-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-bottom: 25px;
    }

    .music-btn {
      background: rgba(212, 175, 55, 0.1);
      border: 2px solid var(--border-gold);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gold);
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .music-btn:hover {
      background: rgba(212, 175, 55, 0.2);
      border-color: var(--gold);
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
    }

    .music-btn.play-pause {
      width: 60px;
      height: 60px;
      font-size: 1.8rem;
    }

    .playlist {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
    }

    .playlist-item {
      padding: 15px;
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid var(--border-gold);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .playlist-item:hover {
      background: rgba(0, 0, 0, 0.4);
      border-color: var(--gold);
      transform: translateX(5px);
    }

    .playlist-item.active {
      background: rgba(212, 175, 55, 0.1);
      border-color: var(--gold);
      border-width: 2px;
    }

    .playlist-item-icon {
      font-size: 1.5rem;
      color: var(--gold);
    }

    .playlist-item-info {
      flex: 1;
    }

    .playlist-item-name {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1rem;
      margin-bottom: 3px;
    }

    .playlist-item-artist {
      color: var(--text-dim);
      font-size: 0.85rem;
      font-style: italic;
    }

    .music-embed-container {
      margin-top: 20px;
      display: none;
      border-radius: 8px;
      overflow: hidden;
      border: 2px solid var(--border-gold);
    }

    .music-embed-container.active {
      display: block;
    }

    .music-embed-container iframe {
      width: 100%;
      height: 315px;
      border: none;
    }

    .places-section {
      margin: 60px 0;
      padding: 30px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--border-gold);
      border-radius: 8px;
      backdrop-filter: blur(2px);
    }

    .places-section h3 {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .places-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .place-item {
      text-align: center;
      padding: 15px;
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid var(--border-gold);
      border-radius: 6px;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .place-item::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(212, 175, 55, 0.2) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      transition: width 0.5s ease, height 0.5s ease;
    }

    .place-item:hover::before {
      width: 200px;
      height: 200px;
    }

    .place-item:hover {
      background: rgba(0, 0, 0, 0.4);
      border-color: var(--gold);
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
    }

    .place-item:hover .place-name {
      color: var(--old-gold);
      text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
    }

    .place-item:active {
      transform: translateY(-2px) scale(1.02);
    }

    .place-item .place-name {
      font-family: 'Cinzel', serif;
      color: var(--gold);
      font-size: 1rem;
      margin-bottom: 5px;
    }

    .place-item .place-desc {
      color: var(--text-dim);
      font-size: 0.85rem;
      font-style: italic;
    }

    footer {
      text-align: center;
      padding: 40px 20px;
      border-top: 2px solid var(--border-gold);
      margin-top: 80px;
      color: var(--text-dim);
      font-size: 0.9rem;
      background: rgba(26, 22, 17, 0.6);
      border-radius: 12px;
      backdrop-filter: blur(2px);
    }

    footer p {
      font-style: italic;
    }

    /* Background transition overlay */
    .bg-transition-overlay {
      position: fixed;
      inset: 0;
      background: var(--dark-brown);
      opacity: 0;
      pointer-events: none;
      z-index: 5000;
      transition: opacity 0.8s ease-in-out;
    }

    .bg-transition-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2.5rem;
      }

      .grid {
        grid-template-columns: 1fr;
        gap: 30px;
      }

      .card-image {
        height: 280px;
      }

      .bank-content {
        padding: 25px;
      }

      .converter {
        grid-template-columns: 1fr;
      }

      .character-references {
        grid-template-columns: 1fr;
      }

      .characters-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .playlist {
        grid-template-columns: 1fr;
      }

      .witcher-logo {
        font-size: 2.5rem;
      }

      .witcher-logo::before,
      .witcher-logo::after {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="witcher-logo-section">
        <div class="witcher-logo">Shantiwelry</div>
        <p class="logo-subtitle">by MrSoil</p>
      </div>
      <span class="witcher-symbol">‚öî</span>
    </header>

    <main>
      <!-- Realm Selection Section - Moved to Top -->
      <div class="places-section">
        <h3>Choose Your Realm</h3>
        <p style="text-align: center; color: var(--text-dim); margin-bottom: 25px; font-style: italic;">Click on a realm to experience its atmosphere</p>
        <div class="places-grid">
          <div class="place-item">
            <div class="place-name">Kaer Morhen</div>
            <div class="place-desc">The Witcher's Keep</div>
          </div>
          <div class="place-item">
            <div class="place-name">Novigrad</div>
            <div class="place-desc">The Free City</div>
          </div>
          <div class="place-item">
            <div class="place-name">Velen</div>
            <div class="place-desc">The No Man's Land</div>
          </div>
          <div class="place-item">
            <div class="place-name">Skellige</div>
            <div class="place-desc">The Isles of Warriors</div>
          </div>
          <div class="place-item">
            <div class="place-name">Oxenfurt</div>
            <div class="place-desc">The Academy City</div>
          </div>
          <div class="place-item">
            <div class="place-name">Toussaint</div>
            <div class="place-desc">The Land of Wine</div>
          </div>
        </div>
      </div>

      <!-- Character Visuals Section -->
      <div class="characters-visual-section">
        <h3>Legends of the Northern Realms</h3>
        <div class="characters-grid">
          <div class="character-visual" data-character="geralt">
            <span class="character-icon">‚öî</span>
            <div class="character-visual-name">Geralt of Rivia</div>
            <div class="character-visual-desc">The White Wolf</div>
          </div>
          <div class="character-visual" data-character="vesemir">
            <span class="character-icon">üõ°</span>
            <div class="character-visual-name">Vesemir</div>
            <div class="character-visual-desc">The Old Wolf</div>
          </div>
          <div class="character-visual" data-character="dandelion">
            <span class="character-icon">üéµ</span>
            <div class="character-visual-name">Dandelion</div>
            <div class="character-visual-desc">The Bard</div>
          </div>
          <div class="character-visual" data-character="yennefer">
            <span class="character-icon">‚ú®</span>
            <div class="character-visual-name">Yennefer</div>
            <div class="character-visual-desc">The Sorceress</div>
          </div>
          <div class="character-visual" data-character="triss">
            <span class="character-icon">üîÆ</span>
            <div class="character-visual-name">Triss</div>
            <div class="character-visual-desc">The Sorceress</div>
          </div>
          <div class="character-visual" data-character="ciri">
            <span class="character-icon">üåå</span>
            <div class="character-visual-name">Ciri</div>
            <div class="character-visual-desc">The Swallow</div>
          </div>
        </div>
      </div>

      <!-- Dandelion Music Player Section -->
      <div class="music-section">
        <div class="music-header">
          <h3>üéµ Dandelion's Tavern üéµ</h3>
          <p>Music from the Northern Realms</p>
        </div>
        <div class="dandelion-intro">
          <p>"Welcome, traveler! I am Dandelion, master bard and chronicler of the Northern Realms. Here you'll find the finest songs from my repertoire, including 'The Wolven Storm' and other melodies that echo through the taverns of Novigrad. Let the music carry you away!"</p>
        </div>
        <div class="music-player">
          <div class="current-track">
            <div class="current-track-name" id="currentTrackName">The Wolven Storm</div>
            <div class="current-track-artist" id="currentTrackArtist">Priscilla (Dandelion's Ballad)</div>
          </div>
          <div class="music-controls">
            <button class="music-btn" id="prevBtn">‚èÆ</button>
            <button class="music-btn play-pause" id="playPauseBtn">‚ñ∂</button>
            <button class="music-btn" id="nextBtn">‚è≠</button>
          </div>
          <div class="music-embed-container" id="musicEmbed">
            <iframe id="musicIframe" allow="autoplay" allowfullscreen></iframe>
          </div>
          <div class="playlist" id="playlist">
            <div class="playlist-item active" data-track="0">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">The Wolven Storm</div>
                <div class="playlist-item-artist">Priscilla</div>
              </div>
            </div>
            <div class="playlist-item" data-track="1">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">Silver for Monsters</div>
                <div class="playlist-item-artist">Marcin Przyby≈Çowicz</div>
              </div>
            </div>
            <div class="playlist-item" data-track="2">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">Steel for Humans</div>
                <div class="playlist-item-artist">Marcin Przyby≈Çowicz</div>
              </div>
            </div>
            <div class="playlist-item" data-track="3">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">The Fields of Ard Skellig</div>
                <div class="playlist-item-artist">Marcin Przyby≈Çowicz</div>
              </div>
            </div>
            <div class="playlist-item" data-track="4">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">Hunt or Be Hunted</div>
                <div class="playlist-item-artist">Marcin Przyby≈Çowicz</div>
              </div>
            </div>
            <div class="playlist-item" data-track="5">
              <span class="playlist-item-icon">üéµ</span>
              <div class="playlist-item-info">
                <div class="playlist-item-name">Aen Seidhe</div>
                <div class="playlist-item-artist">Marcin Przyby≈Çowicz</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <div class="card-image">
            <img src="https://placehold.co/600x400/2a2418/d4af37?text=Seashell+%26+Pearl+Necklace&font=Cinzel" alt="Seashell & Pearl Necklace">
          </div>
          <div class="card-content">
            <h3>Seashell & Pearl Necklace</h3>
            <p class="card-description">
              A regal piece crafted from the finest sea treasures found along the shores of Skellige. The centerpiece features a magnificent seashell, 
              surrounded by lustrous pearls reminiscent of the White Wolf's medallion, and delicate fill materials, creating an elegant harmony of ocean and earth.
            </p>
            <div class="witcher-reference">
              "Worthy of a place in the treasury of Kaer Morhen, where witchers once kept their most precious artifacts."
            </div>
            <ul class="materials">
              <li>Hand-selected seashells from Skellige's coast</li>
              <li>Genuine pearls, as rare as dimeritium</li>
              <li>Premium fill materials</li>
              <li>Artisan craftsmanship, forged with care</li>
            </ul>
            <div class="price-section">
              <span class="price-label">Price</span>
              <span class="price">35<span class="crown-icon">üëë</span></span>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-image">
            <img src="https://placehold.co/600x400/2a2418/d4af37?text=Pearl+%26+Shell+Bracelet&font=Cinzel" alt="Pearl & Shell Bracelet">
          </div>
          <div class="card-content">
            <h3>Pearl & Shell Bracelet</h3>
            <p class="card-description">
              An exquisite wrist adornment that captures the essence of the sea, much like the waters surrounding the isles of Skellige. Delicate pearls interwoven with 
              carefully chosen shells and premium materials, forming a piece of timeless elegance that would complement any journey through the Northern Realms.
            </p>
            <div class="witcher-reference">
              "A piece that would make even the merchants of Novigrad's Hierarch Square take notice."
            </div>
            <ul class="materials">
              <li>Lustrous pearls, gathered from deep waters</li>
              <li>Curated seashells, each unique</li>
              <li>Fine fill materials</li>
              <li>Handcrafted with the precision of a master smith</li>
            </ul>
            <div class="price-section">
              <span class="price-label">Price</span>
              <span class="price">35<span class="crown-icon">üëë</span></span>
            </div>
          </div>
        </div>
      </div>

      <div class="exchange-section">
        <div class="bank-header">
          <h2 class="bank-title">Vivaldi Bank</h2>
          <p class="bank-subtitle">Official Currency Exchange of Novigrad</p>
        </div>
        <div class="bank-content">
          <div class="exchange-rates">
            <div class="rate-item">
              <div class="currency-name">Oren</div>
              <div class="rate-value">1 Oren = 1 Crown</div>
            </div>
            <div class="rate-item">
              <div class="currency-name">Crown</div>
              <div class="rate-value">1 Crown = 1 Oren</div>
            </div>
            <div class="rate-item">
              <div class="currency-name">Floren</div>
              <div class="rate-value">1 Floren = 3 Crowns</div>
            </div>
          </div>
          <div class="converter">
            <div class="currency-input-group">
              <label>Orens</label>
              <div class="currency-input-wrapper">
                <input type="number" class="currency-input" id="orens" value="0" min="0" step="0.01" placeholder="0">
                <span class="currency-symbol">‚Ç¥</span>
              </div>
            </div>
            <div class="currency-input-group">
              <label>Crowns</label>
              <div class="currency-input-wrapper">
                <input type="number" class="currency-input" id="crowns" value="0" min="0" step="0.01" placeholder="0">
                <span class="currency-symbol">üëë</span>
              </div>
            </div>
            <div class="currency-input-group">
              <label>Florens</label>
              <div class="currency-input-wrapper">
                <input type="number" class="currency-input" id="florens" value="0" min="0" step="0.01" placeholder="0">
                <span class="currency-symbol">‚Ç£</span>
              </div>
            </div>
          </div>
          <div class="exchange-info">
            <p>All exchanges are processed according to the official rates established by the Vivaldi Bank. Rates are fixed and honored throughout the Northern Realms. No fees apply for standard currency conversion. Trusted by witchers, merchants, and nobles alike.</p>
          </div>
        </div>
      </div>


      <div class="about-section">
        <h2>About the Craft</h2>
        <p>
          Each piece in this collection is meticulously handcrafted using materials gathered from the depths of the sea, much like how a witcher gathers ingredients for potions. 
          Seashells, pearls, and carefully selected fill materials come together to create jewelry that tells a story of nature's beauty and the artisan's dedication. 
          These are not mere accessories, but treasures forged with passion and skill‚Äîworthy of being displayed in the halls of Kaer Morhen or the courts of Nilfgaard.
        </p>
        <div class="ciri-reference">
          "Like Ciri's journey through different worlds and dimensions, these pieces bridge the gap between the depths of the ocean and the surface, carrying with them the essence of adventure, discovery, and the magic that binds all things together in the Northern Realms."
        </div>
      </div>
    </main>

    <footer>
      <p>¬© Kaer Morhen Treasury ‚Äî Crafted in the tradition of the School of the Wolf</p>
      <p style="margin-top: 10px; font-size: 0.8rem;">"Wind's howling..."</p>
    </footer>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- Background Transition Overlay -->
  <div class="bg-transition-overlay" id="bgTransition"></div>

  <!-- Hidden Audio Player -->
  <audio id="audioPlayer" preload="auto"></audio>

  <script>
    // Toast notification system
    function showToast(title, message, character = '') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = 'toast';
      
      toast.innerHTML = `
        <div class="toast-title">${title}</div>
        <div class="toast-message">${message}</div>
        ${character ? `<div class="toast-character">‚Äî ${character}</div>` : ''}
      `;
      
      container.appendChild(toast);
      
      // Remove toast after 4 seconds
      setTimeout(() => {
        toast.classList.add('toast-exit');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 500);
      }, 4000);
    }

    // Realm background images - Witcher 3 themed
    const realmBackgrounds = {
      'Kaer Morhen': [
        'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80',
        'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=1920&q=80'
      ],
      'Novigrad': [
        'https://images.unsplash.com/photo-1449824913935-9a10a0e1a23b?w=1920&q=80',
        'https://images.unsplash.com/photo-1515542622106-78bda8ba0e5b?w=1920&q=80'
      ],
      'Velen': [
        'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1920&q=80',
        'https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1920&q=80'
      ],
      'Skellige': [
        'https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=1920&q=80',
        'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80'
      ],
      'Oxenfurt': [
        'https://images.unsplash.com/photo-1515542622106-78bda8ba0e5b?w=1920&q=80',
        'https://images.unsplash.com/photo-1449824913935-9a10a0e1a23b?w=1920&q=80'
      ],
      'Toussaint': [
        'https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1920&q=80',
        'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1920&q=80'
      ]
    };

    // Music playlist - Using YouTube embed URLs (users can replace with actual audio files)
    const musicPlaylist = [
      {
        name: 'The Wolven Storm',
        artist: 'Priscilla (Dandelion\'s Ballad)',
        url: 'https://www.youtube.com/embed/823yuWz0lto?si=FokuUHUeAQL2lfHR'
      },
      {
        name: 'Silver for Monsters',
        artist: 'Marcin Przyby≈Çowicz',
        url: 'https://youtu.be/LDnENTDuAiI?si=Gnr08vv0P5VCV_9z'
      },
      {
        name: 'Steel for Humans',
        artist: 'Marcin Przyby≈Çowicz',
        url: 'https://youtu.be/BLqktDBIew8?si=kzliN0pjkgx-qgnO'
      },
      {
        name: 'The Fields of Ard Skellig',
        artist: 'Marcin Przyby≈Çowicz',
        url: 'https://youtu.be/NknjE2SBPxw?si=VgVx2hZvx2PU4H6C'
      },
      {
        name: 'Hunt or Be Hunted',
        artist: 'Marcin Przyby≈Çowicz',
        url: 'https://www.youtube.com/embed/example4?autoplay=1'
      },
      {
        name: 'Aen Seidhe',
        artist: 'Marcin Przyby≈Çowicz',
        url: 'https://www.youtube.com/embed/example5?autoplay=1'
      }
    ];

    let currentTrackIndex = 0;
    let isPlaying = false;
    let audioPlayer = document.getElementById('audioPlayer');

    const realmDescriptions = {
      'Kaer Morhen': 'The ancient keep of the School of the Wolf',
      'Novigrad': 'The Free City, largest in the Northern Realms',
      'Velen': 'The war-torn No Man\'s Land',
      'Skellige': 'The Isles of Warriors, home to fierce clans',
      'Oxenfurt': 'The Academy City, center of learning',
      'Toussaint': 'The Land of Wine, a fairytale duchy'
    };

    function changeBackground(realmName) {
      const body = document.body;
      const overlay = document.getElementById('bgTransition');
      const images = realmBackgrounds[realmName] || realmBackgrounds['Kaer Morhen'];
      
      // Show overlay
      overlay.classList.add('active');
      
      setTimeout(() => {
        // Change background
        body.style.backgroundImage = `
          url('${images[0]}'),
          url('${images[1]}'),
          radial-gradient(circle at 20% 50%, rgba(139, 105, 20, 0.2) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
          linear-gradient(180deg, rgba(26, 22, 17, 0.88) 0%, rgba(31, 26, 20, 0.92) 100%)
        `;
        
        // Hide overlay
        setTimeout(() => {
          overlay.classList.remove('active');
        }, 300);
      }, 400);
    }
    // Currency conversion rates
    // 1 Oren = 1 Crown
    // 3 Crowns = 1 Floren
    
    const orensInput = document.getElementById('orens');
    const crownsInput = document.getElementById('crowns');
    const florensInput = document.getElementById('florens');
    
    let isUpdating = false;
    
    function updateFromOrens(value) {
      if (isUpdating) return;
      isUpdating = true;
      const orens = parseFloat(value) || 0;
      const crowns = orens; // 1 Oren = 1 Crown
      const florens = crowns / 3; // 3 Crowns = 1 Floren
      
      crownsInput.value = crowns.toFixed(2);
      florensInput.value = florens.toFixed(2);
      isUpdating = false;
    }
    
    function updateFromCrowns(value) {
      if (isUpdating) return;
      isUpdating = true;
      const crowns = parseFloat(value) || 0;
      const orens = crowns; // 1 Crown = 1 Oren
      const florens = crowns / 3; // 3 Crowns = 1 Floren
      
      orensInput.value = orens.toFixed(2);
      florensInput.value = florens.toFixed(2);
      isUpdating = false;
    }
    
    function updateFromFlorens(value) {
      if (isUpdating) return;
      isUpdating = true;
      const florens = parseFloat(value) || 0;
      const crowns = florens * 3; // 1 Floren = 3 Crowns
      const orens = crowns; // 1 Crown = 1 Oren
      
      crownsInput.value = crowns.toFixed(2);
      orensInput.value = orens.toFixed(2);
      isUpdating = false;
    }
    
    orensInput.addEventListener('input', (e) => updateFromOrens(e.target.value));
    crownsInput.addEventListener('input', (e) => updateFromCrowns(e.target.value));
    florensInput.addEventListener('input', (e) => updateFromFlorens(e.target.value));

    // Character card click handlers
    document.querySelectorAll('.character-card').forEach(card => {
      card.addEventListener('click', function() {
        const characterName = this.querySelector('h3').textContent;
        const quotes = {
          'Yennefer of Vengerberg': {
            message: '"Magic is chaos, art, and science. It is a curse, a blessing, and a progression."',
            character: 'Yennefer of Vengerberg'
          },
          'Triss Merigold': {
            message: '"I\'m not a hero. I\'m just a sorceress who made a mistake."',
            character: 'Triss Merigold'
          },
          'Ciri': {
            message: '"I\'m not a princess. I\'m a witcher."',
            character: 'Ciri'
          }
        };
        const quote = quotes[characterName];
        if (quote) {
          showToast(characterName, quote.message, quote.character);
        }
      });
    });

    // Place item click handlers - Change background instead of popup
    document.querySelectorAll('.place-item').forEach(item => {
      item.addEventListener('click', function() {
        const placeName = this.querySelector('.place-name').textContent;
        const description = realmDescriptions[placeName];
        
        // Change background
        changeBackground(placeName);
        
        // Show toast notification
        showToast(placeName, description, 'Northern Realms');
      });
    });

    // Witcher reference click handlers
    document.querySelectorAll('.witcher-reference').forEach(ref => {
      ref.addEventListener('click', function() {
        const quotes = [
          { msg: '"Medallion\'s humming..."', char: 'Geralt' },
          { msg: '"Place of power, it\'s gotta be."', char: 'Geralt' },
          { msg: '"Looks like rain."', char: 'Geralt' },
          { msg: '"Winds howling."', char: 'Geralt' },
          { msg: '"Damn, you\'re ugly!"', char: 'Geralt' }
        ];
        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
        showToast('Witcher\'s Wisdom', randomQuote.msg, randomQuote.char);
      });
    });

    // Vesemir quote click handler
    document.querySelector('.vesemir-quote').addEventListener('click', function() {
      showToast('Vesemir\'s Wisdom', '"A witcher without his swords is like a sorceress without her magic. But remember, the greatest weapon is knowledge."', 'Vesemir of Kaer Morhen');
    });

    // Ciri reference click handler
    document.querySelector('.ciri-reference').addEventListener('click', function() {
      showToast('Ciri\'s Journey', '"I\'m the Lady of Space and Time. I can travel between worlds. But some things, like these beautiful pieces, remain constant across all dimensions."', 'Ciri');
    });

    // Location badge click handler
    document.querySelector('.location-badge').addEventListener('click', function() {
      showToast('The Northern Realms', 'A land of witchers, sorceresses, monsters, and magic. From the war-torn Velen to the free city of Novigrad, from the warrior isles of Skellige to the ancient keep of Kaer Morhen.', 'Chronicler');
    });

    // Character visual click handlers
    document.querySelectorAll('.character-visual').forEach(visual => {
      visual.addEventListener('click', function() {
        const character = this.dataset.character;
        const characterQuotes = {
          'geralt': { msg: '"Wind\'s howling..."', char: 'Geralt of Rivia' },
          'vesemir': { msg: '"A witcher without his swords is like a sorceress without her magic."', char: 'Vesemir' },
          'dandelion': { msg: '"A good story is worth more than a bag of gold!"', char: 'Dandelion' },
          'yennefer': { msg: '"Magic is chaos, art, and science."', char: 'Yennefer of Vengerberg' },
          'triss': { msg: '"The sea\'s treasures, like magic, hold secrets within."', char: 'Triss Merigold' },
          'ciri': { msg: '"I\'m not a princess. I\'m a witcher."', char: 'Ciri' }
        };
        const quote = characterQuotes[character];
        if (quote) {
          showToast(quote.char, quote.msg, '');
        }
      });
    });

    // Music Player Functions
    function updateTrackDisplay() {
      const track = musicPlaylist[currentTrackIndex];
      document.getElementById('currentTrackName').textContent = track.name;
      document.getElementById('currentTrackArtist').textContent = track.artist;
      
      // Update active playlist item
      document.querySelectorAll('.playlist-item').forEach((item, index) => {
        if (index === currentTrackIndex) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
    }

    function playTrack() {
      const track = musicPlaylist[currentTrackIndex];
      showToast('üéµ Now Playing', `${track.name} by ${track.artist}`, 'Dandelion');
      isPlaying = true;
      document.getElementById('playPauseBtn').textContent = '‚è∏';
      
      // Load and show the music embed
      const embedContainer = document.getElementById('musicEmbed');
      const iframe = document.getElementById('musicIframe');
      iframe.src = track.url;
      embedContainer.classList.add('active');
    }

    function pauseTrack() {
      isPlaying = false;
      document.getElementById('playPauseBtn').textContent = '‚ñ∂';
      showToast('‚è∏ Paused', 'Music paused', 'Dandelion');
      // Note: YouTube iframe will continue playing, but UI shows paused state
      // In production, use actual audio files for better control
    }

    function nextTrack() {
      currentTrackIndex = (currentTrackIndex + 1) % musicPlaylist.length;
      updateTrackDisplay();
      if (isPlaying) {
        playTrack();
      }
    }

    function prevTrack() {
      currentTrackIndex = (currentTrackIndex - 1 + musicPlaylist.length) % musicPlaylist.length;
      updateTrackDisplay();
      if (isPlaying) {
        playTrack();
      }
    }

    // Music player event listeners
    document.getElementById('playPauseBtn').addEventListener('click', function() {
      if (isPlaying) {
        pauseTrack();
      } else {
        playTrack();
      }
    });

    document.getElementById('nextBtn').addEventListener('click', nextTrack);
    document.getElementById('prevBtn').addEventListener('click', prevTrack);

    // Playlist item click handlers
    document.querySelectorAll('.playlist-item').forEach((item, index) => {
      item.addEventListener('click', function() {
        currentTrackIndex = index;
        updateTrackDisplay();
        playTrack();
      });
    });

    // Initialize music player
    updateTrackDisplay();
  </script>
</body>
</html>
